function s(r){let a="https://github.com/oasisjs/biscuit/tree/main",i=r.filename,l=i.indexOf("/packages/"),n=i.slice(l,i.length),c=`#L${r.line}:${r.col}`;return a+n+c}function f(r){return r.filename.split("/")[9]}const t=r=>{var a,i,l,n,c,u;switch(r==null?void 0:r.kind){case"typeRef":return((a=r.typeRef)==null?void 0:a.typeName)==="RegExp"?"RegExp":((i=r.typeRef)==null?void 0:i.typeParams)!==null?`${r.repr}&#60;${(c=(n=(l=r.typeRef)==null?void 0:l.typeParams)==null?void 0:n.map(e=>t(e)))==null?void 0:c.join(", ")}&#62;`:r.repr;case"keyword":return r.keyword;case"intersection":return r.intersection.map(e=>t(e)).join(" & ");case"union":return r.union.map(e=>t(e)).join(" | ");case"array":return t(r.array)+"[]";case"tuple":return r.repr===""?"[]":"";case"literal":return r.literal.kind==="number"?r.repr:r.literal.kind==="string"?`"${r.repr}"`:r.literal.kind;case"typeLiteral":return r.typeLiteral.methods&&r.typeLiteral.methods.length>0?r.typeLiteral.methods.map(e=>t(e.returnType)).join(", "):r.typeLiteral.properties&&r.typeLiteral.properties.length>0?"{"+r.typeLiteral.properties.map(e=>` ${e.name}${e.optional?"?":""}: ${t(e.tsType)} `).join(", ")+"}":"";case"getter":case"setter":return(u=r.functionDef)!=null&&u.returnType?t(r.functionDef.returnType):"";case"object":return`{ ${r.props[0].key}: ${t(r.tsType)} }`;case"assign":return t(r.left.tsType);case"identifier":case"rest":return t(r.tsType);case"fnOrConstructor":let o="";return r.fnOrConstructor.params&&r.fnOrConstructor.params.length>0?o="("+r.fnOrConstructor.params.map(e=>`${e.name}${e.optional?"?":""}: ${t(e.tsType)}`).join(", ")+")":o="()",o+=` => ${t(r.fnOrConstructor.tsType)}`,o;case"typePredicate":default:return(r==null?void 0:r.repr)||"void"}};function h(r,a,i){r=r.replaceAll("<","&#60;").replaceAll(">","&#62;");for(let l=0;l<a.length;l++){const n=a[l];if(m(r,n.name)){const c=Array.from(r.matchAll(n.name));for(const u in c){const o=c[u];if(o&&o.length>0&&o[0]===n.name){const e=`<a class="underline text-yurh-600 hover:text-yurh-700 font-normal" href="${i}/docs/${f(n.location)}/${n.kind}/${n.name}">${n.name}</a>`;return r.replaceAll(n.name,e)}}}}return`<span class="font-normal text-yurh-600">${r}</span>`}function m(r,a){return typeof r!="string"||typeof a!="string"?!1:r.replaceAll(/[^a-zA-Z0-9]/g," ").split(" ").includes(a)}export{t as P,h as g,s as l,f as p};
